<mat-card class="group" [ngStyle]="{'background-color':group.color ? group.color.toString() : '#A1BF36'}"
          cdkDropList (cdkDropListDropped)="drop($event)"
>
  <mat-card-header  (press)="wasPressed($event,this)">
    <mat-card-title>
      <div [ngClass]="getGroupClass(group.level)" >
        <div
          class="mr-auto p-2 "> {{ (group.name.length > 15) ? (group.name | slice:0:15) + '&hellip;' : (group.name) }}</div>
        <div
          [ngClass]="group.children.length > 0 ||  group.level > 4 ? 'p-2 align-self-center disabled' :'p-2 align-self-center'"
          (click)="add(group.id)">
          <fa name="plus"></fa>
        </div>
        <div [ngClass]="group.children.length > 0 ? 'p-2 align-self-center disabled' :'p-2 align-self-center'"
             (click)="delete(group.id)">
          <fa name="times"></fa>
        </div>
      </div>
    </mat-card-title>

  </mat-card-header>
  <mat-card-content style="height: 100%;" >
    <mat-grid-list cols="{{getImageCols(group.level)}}" rowHeight="100px">
      <mat-grid-tile
        *ngFor="let image of group.images; let i = index"
        [colspan]="1"
        [rowspan]="1"

      >

            <app-image *ngIf="i < getNumImagesToShow(group.level)" [image]="image" [square]="true" [draggable]="false"></app-image>



      </mat-grid-tile>
    </mat-grid-list>
  </mat-card-content>
</mat-card>


